project(foo-bar LANGUAGES CXX)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fsycl")
find_program(dpct_bin_path NAMES dpct PATHS)
get_filename_component(bin_path_of_dpct ${dpct_bin_path} DIRECTORY)
set(dpct_cmake_file_path "${bin_path_of_dpct}/../cmake/dpct.cmake")
include(${dpct_cmake_file_path})

target_link_sycl_libraries(main PRIVATE cxxopts fmt::fmt -lcublas)

target_link_sycl_libraries(transformer_engine PUBLIC 
   CUDA::cublas
   CUDA::cuda_driver
   CUDA::cudart
   CUDA::nvrtc
   CUDA::nvToolsExt
   CUDNN::cudnn)
                     
target_link_sycl_libraries(${target} PRIVATE
         -static-libgcc
         -static-libstdc++)
                     
target_link_sycl_libraries(${PROJECT_NAME} libnvinfer.so
libnvonnxparser.so)
